478a479
> 
511a513,517
> 			jas_free(siz->comps);
> 			return -1;
> 		}
> 		/* Validate sampling factors to avoid divide-by-zero in later processing */
> 		if (!siz->comps[i].hsamp || !siz->comps[i].vsamp) {
